<div class="col-sm-10 col-sm-offset-2 col-md-11 col-md-offset-1 main">
	<div class="page-header">
		<h2>Sources of experiment <strong>{{experiment.name}}</strong></h2>
	</div>
	<div class="alert alert-danger col-md-10 col-md-offset-1" role="alert" ng-show="errors.length > 0">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<p class="text-justify" ng-repeat="err in errors">{{err.message}}</p>
	</div>
	<div class="alert alert-success text-justify col-md-10 col-md-offset-1" role="alert" ng-show="message != null">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<p class="text-center">
			{{message}}
			<br>
			<a href="/experiments#/" class="btn btn-sucess">Return to Index</a>
		</p>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title text-center"><strong>Sources</strong></h4>
				</div>
				<div class="body log">
					<div class="treeview" data-angular-treeview="true" data-tree-id="src_tree" data-tree-model="experiment.src_tree" data-node-id="id" data-node-label="label" data-node-children="children" ng-click="select(src_tree.currentNode)">
					</div>
				</div>
			</div>
		</div>

		<div class="col-md-8">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title text-center"><strong>Editor</strong></h4>
					<div class="text-center">{{selectedNode.label}}</div>
				</div>
				<div class="body">
					<div id="editor"></div>
				</div>
			</div>
			<div class="text-center" role="group">
				<button id="btnSaveChanges" ng-class="{disabled:!btnSaveChanges}" type="button" class="btn btn-success" title="Save Changes" ng-click="saveFile(src_tree.currentNode)"><span class="glyphicon glyphicon glyphicon-cloud-upload" aria-hidden="true"></span></button>
				<button class="btn btn-primary" type="button" ng-click="newFile()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
				<form ng-submit="saveNewFile()" class="collapse" id="formNewFile" style="display:none;">
					<div class="form-group">
						<label for="newFile">Write path for the new file:</label>
						<input type="text" class="form-control" id="newFile" placeholder="folder1/folder2/file.c" ng-model="newFilePath">
					</div>
					<input type="submit" class="btn btn-default" value="Create" />
					<button class="btn btn-warning" type="button" ng-click="newFileCancel()">Cancel</button>
				</form>
			</div>
		</div>
	</div>
</div>
<script src="/lib/ace/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/lib/ace/src-min-noconflict/ext-modelist.js" type="text/javascript" charset="utf-8"></script>