<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
	<div class="page-header">
		<h2>Overview of the experiment: <strong>{{experiment.name}}</strong></h2>
	</div>
	<div class="row">
		<div class="alert alert-danger col-md-10 col-md-offset-1" role="alert" ng-show="errors.length > 0">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<p class="text-justify" ng-repeat="err in errors">{{err.message}}</p>
		</div>

		<div class="alert alert-success text-justify col-md-10 col-md-offset-1" role="alert" ng-show="message != null">
			<button type="button" class="close" ng-click="message = null" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<p class="text-center">
				{{message}}
				<br>
				<a href="/experiments#/" class="btn btn-sucess">Return to Index</a>
			</p>
		</div>
	</div>
	<div class="row">
		<div class="text-center col-md-12">
			<button class="btn btn-success btn-lg" ng-disabled="experiment.status != 'created'" data-toggle="modal" data-target="#launchModal" ng-click="launchModal()">Launch</button>
			<button class="btn btn-warning btn-lg" ng-click="reset()">Reset</button>
			<button class="btn btn-info btn-lg" ng-click="refreshStatus()">Update Status</button>
		</div>
	</div>
	<div class="row">
		<!-- Modal -->
		<div class="modal fade" id="launchModal" tabindex="-1" role="dialog" aria-labelledby="launchModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="launchModalLabel">Launch Configure</h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<form ng-submit="launchSubmit()" class="form form-horizontal col-md-12">
								<div class="form-group col-md-12">
									<label for="nodes">Nodes</label>
									<input type="number" class="form-control" ng-model="launchData.nodes" placeholder="3" min="1" required>
								</div>
								<div class="form-group col-md-12">
									<label for="image">Image</label>
									<select class="form-control" ng-model="launchData.image_id" required ng-options="image.id as image.name for image in images">
					</select>
								</div>
								<div class="form-group col-md-12">
									<label for="size">Size</label>
									<select class="form-control" ng-model="launchData.size_id" required>
						<option ng-repeat="size in sizes" value="{{size.id}}">{{size.name}} ({{size.cpus}} CPUs, {{size.ram}} RAM )</option>
					</select>
								</div>
								<div class="col-md-12 text-center">
									<input type="submit" class="btn btn-success" value="Launch">
									<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<hr>
	<div class="row">
		<div class="col-md-offset-1 col-md-10">
			<div class="row">
				<div class="panel panel-primary">
					<div class="panel-heading text-center">
						<strong>Experiment Information</strong>
					</div>
					<table class="table table-hover table-striped table-bordered">
						<thead>
							<tr>
								<th>Concept</th>
								<th>Value</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Description</td>
								<td>{{experiment.desc}}</td>
							</tr>
							<tr>
								<td>Application</td>
								<td>{{experiment.app.name}}</td>
							</tr>
							<tr>
								<td>Status</td>
								<td>{{experiment.status}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row">
				<div class="panel panel-primary">
					<div class="panel-heading text-center">
						<strong>Execution Environments</strong>
					</div>
					<table class="table table-hover table-striped table-bordered">
						<thead>
							<tr>
								<th>Concept</th>
								<th>Value</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Input Path</td>
								<td>{{exp.exec_env.inputpath}}</td>
							</tr>
							<tr>
								<td>Temp Path</td>
								<td>{{exp.exec_env.tmppath}}</td>
							</tr>
							<tr>
								<td>NÂº Nodes</td>
								<td>{{exp.exec_env.nodes}}</td>
							</tr>
							<tr>
								<td>Public URL</td>
								<td>{{exp.exec_env.cpus}}</td>
							</tr>
							<tr>
								<td>Library Path</td>
								<td>{{exp.exec_env.libpath}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>