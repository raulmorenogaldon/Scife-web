<div class="col-sm-10 col-sm-offset-2 col-md-11 col-md-offset-1 main">
	<div class="page-header">
		<h2>Overview of the experiment: <strong>{{experiment.name}}</strong></h2>
	</div>
	<div class="row">
		<div class="alert alert-danger col-md-10 col-md-offset-1" role="alert" ng-show="errors.length > 0">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<p class="text-justify" ng-repeat="err in errors">{{err.message}}</p>
		</div>

		<div class="alert alert-success text-justify col-md-10 col-md-offset-1" role="alert" ng-show="message != null">
			<button type="button" class="close" ng-click="message = null" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<p class="text-center">
				{{message}}
				<br>
				<a href="/experiments#/" class="btn btn-sucess">Return to Index</a>
			</p>
		</div>
	</div>
	<div class="row">
		<div class="modal fade" id="launchModal" tabindex="-1" role="dialog" aria-labelledby="launchModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="launchModalLabel">Launch Configure</h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<form ng-submit="launchSubmit()" class="form form-horizontal col-md-12">
								<div class="form-group col-md-12">
									<label for="nodes">Nodes</label>
									<input type="number" id="nodes" class="form-control" ng-model="launchData.nodes" placeholder="3" min="1" required>
								</div>
								<div class="form-group col-md-12">
									<label for="image">Image</label>
									<select class="form-control" id="image" ng-model="launchData.image_id" required ng-options="image.id as image.name for image in images">
					</select>
								</div>
								<div class="form-group col-md-12">
									<label for="size">Size</label>
									<select class="form-control" id="size" ng-model="launchData.size_id" required>
						<option ng-repeat="size in sizes" value="{{size.id}}">{{size.name}} ({{size.cpus}} CPUs, {{size.ram}} RAM )</option>
					</select>
								</div>
								<div class="col-md-12 text-center">
									<input type="submit" class="btn btn-success" value="Launch">
									<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="deleteModalLabel">Launch Configure</h4>
					</div>
					<div class="modal-body">
						<p class="text-justified">
							Are you sure, you want to delete the experiment?
						</p>
						<dl class="dl-horizontal">
							<dt>Name</dt>
							<dd>{{experiment.name}}</dd>
							<dt>Description</dt>
							<dd>{{experiment.desc}}</dd>
							<dt>Application</dt>
							<dd>{{experiment.app.name}}</dd>
							<dt>Status</dt>
							<dd>{{experiment.status}}</dd>
						</dl>
						<div class="modal-footer">
							<form ng-submit="deleteSubmit()" class="form form-horizontal col-md-12">
								<div class="col-md-12 text-center">
									<input type="submit" class="btn btn-danger" value="I Agree">
									<button type="button" class="btn btn-default" data-dismiss="modal">I disagree</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" ng-show="!errors">
		<div class="text-center col-md-12">
			<button class="btn btn-success btn-lg" ng-disabled="experiment.status != 'created'" data-toggle="modal" data-target="#launchModal"
				ng-click="launchModal()">Launch</button>
			<button class="btn btn-warning btn-lg" ng-click="reset()">Reset</button>
			<button class="btn btn-info btn-lg" ng-click="refreshStatus()">Update Status</button>
			<button class="btn btn-danger btn-lg" data-toggle="modal" data-target="#deleteModal">Delete</button>
		</div>
	</div>
	<hr>
	<div class="row" ng-show="!errors">
		<div class="col-md-offset-1 col-md-10">
			<div class="panel" ng-class="panelColors.getColorClass(experiment.status)">
				<div class="panel-heading text-center">
					<strong>Experiment Information</strong>
				</div>
				<table class="table table-hover table-striped table-bordered">
					<thead>
						<tr>
							<th>Concept</th>
							<th>Value</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Description</td>
							<td>{{experiment.desc}}</td>
						</tr>
						<tr>
							<td>Application</td>
							<td>{{experiment.app.name}}</td>
						</tr>
						<tr>
							<td>Status</td>
							<td>{{experiment.status}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="row" ng-show="!errors">
		<div class="text-center">
			<button ng-disabled='experiment.status != "done"' class="btn btn-lg btn-success" ng-click="downloadResults(experiment.id)">Dowload Results</button>
		</div>
	</div>
</div>